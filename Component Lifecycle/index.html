<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://fb.me/react-0.14.7.js"></script>
    <script src="https://fb.me/react-dom-0.14.7.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.2/browser.min.js"></script>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/babel">
      var LifecycleComponent = React.createClass({
        // 1. called ONCE
        // BEFORE COMPONENT IS RENDERED
        getDefaultProps: function() {
          console.log("Getting our default properties");
        },
        // 2. called ONCE
        // BEFORE COMPONENT IS RENDERED
        getInitialState: function() {
          console.log("Getting our initial state")
          return({
            value: 0
          })
        },
        // 3. called ONCE
        // BEFORE COMPONENT IS RENDERED
        componentWillMount: function() {
          console.log(this.state);
          console.log(this.props);
          console.log("Component is mounting");
        },
        increaseValue: function() {
          this.setState({
            value: this.state.value + 1
          })
        },
        // 4.
        // Happens whenever our component changes
        render: function() {
          console.log("Component is rendered");
          return (
            <button onClick={this.increaseValue}>{this.state.value}</button>
          )
        },
        // 5. ONLY ONCE
        // AFTER THE COMPONENT HAS RENDERED
        componentDidMount: function() {
          console.log("Component has rendered");
          console.log(this.state);
          console.log(this.props);
          console.log(ReactDOM.findDOMNode(this));
        }
      });


      ReactDOM.render(
        <LifecycleComponent />,
        document.getElementById('app')
      );
    </script>
  </body>
</html>
